<form [formGroup]="atecForm" #formDir="ngForm" id="form-atec-filter" (ngSubmit)="submitForm()">
    <div id="form-header">
        <header>
            <span fxFlex="20">Station</span>
            <span fxFlex="20">Operator</span>
        </header>
        <div class="line-footer-atec-filter"></div>
        <main>
            <div fxLayout="row" *ngFor="let station of stations" >
                <span fxFlex="20">{{station.code}}</span>
                <div fxFlex="60" >
                    <mat-form-field fxFlex="50" *ngIf="station.code === selectedStation">
                        <mat-select (change)="addMenu(selectedAuthorities)" class="select-atec-filter"  placeholder="" [formControl]="atecForm.controls['authorities']" [(ngModel)]="selectedAuthorities" multiple>
                            <mat-option *ngFor="let authority of authoritiesMerged" value="{{authority}}">{{authority}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <span fxFlex="50" *ngIf="station.code !== selectedStation">
                        {{authorities[station.code].join(', ')}}
                    </span>
                    <button [disabled]="selectedStation !== ''" (click)="setSelectedStation(station.code)" mat-icon-button color="primary" type="button" ><mat-icon>create</mat-icon></button>
                </div>
            </div>
        </main>
    </div>
    <mat-tab-group id="form-tabs" *ngIf="arrTabs.length > 0">
        <mat-tab *ngFor="let menu of arrTabs" label={{menu.label}}>
            <div fxLayout="row" class="row-atec-filter">
                <div fxLayout="column" fxFlex="20" class="column-head-atec-filter">
                    <span class="label-atec-filter">Deferral Category</span>
                </div>
                <div fxLayout="column" fxFlex="20" class="column-head-atec-filter">
                    <span class="label-atec-filter">Due Date</span>
                </div>
            </div>

            <div *ngFor="let deferralClass of deferralClasses$ | async" fxLayout="row" class="row-atec-filter background-color-row-atec-filter">
                <div fxLayout="column" fxFlex="20" class="column-atec-filter">
                    <span class="label-row-atec-filter">{{deferralClass}}</span>
                </div>
                <div fxLayout="column" class="column-atec-filter column-input-atec-filter column-due-date" fxFlex="20">
                    <mat-form-field>
                        <input #days id="in-atec-filter-{{deferralClass.toLowerCase()}}"
                               class="label-placeholder-atec-filter mat-form-field-infix"
                               placeholder="Days"
                               matInput
                               maxlength="3"
                               value="1"
                               type="number"
                               min="1"
                               max="999"
                        />
                    </mat-form-field>
                </div>
                <div fxLayout="column">
                    <mat-checkbox #check labelPosition="after" (change)="checkAll(days, check)" fxFlex="20" class="column-atec-filter">
                        <span class="label-row-atec-filter">All</span>
                    </mat-checkbox>
                </div>
            </div>


           <!-- <div fxLayout="row" class="row-atec-filter">
                <div fxLayout="column" fxFlex="13" class="column-atec-filter">
                    <span class="label-row-atec-filter">B</span>
                </div>
                <div fxLayout="column" class="column-atec-filter column-input-atec-filter" fxFlex="15">
                    <mat-form-field>

                        <input class="label-placeholder-atec-filter mat-form-field-infix"
                               placeholder="Days" matInput maxlength="3"
                        />
                    </mat-form-field>
                </div>
                <div fxLayout="column">
                    <mat-checkbox labelPosition="after" fxFlex="20" class="column-atec-filter"
                    ><span class="label-row-atec-filter">All</span>
                    </mat-checkbox>
                </div>
            </div>-->

           <!-- <div fxLayout="row" class="row-atec-filter background-color-row-atec-filter">
                <div fxLayout="column" fxFlex="13" class="column-atec-filter">
                    <span class="label-row-atec-filter">C</span>
                </div>
                <div fxLayout="column" class="column-atec-filter column-input-atec-filter" fxFlex="15">
                    <mat-form-field>

                        <input class="label-placeholder-atec-filter mat-form-field-infix"
                               placeholder="Days" matInput maxlength="3"
                        />
                    </mat-form-field>
                </div>
                <div fxLayout="column">
                    <mat-checkbox id="in-contingency-form-backup" labelPosition="after" fxFlex="20"
                                  class="column-atec-filter"
                    ><span class="label-row-atec-filter">All</span>
                    </mat-checkbox>
                </div>
            </div>

            <div fxLayout="row" class="row-atec-filter">
                <div fxLayout="column" fxFlex="13" class="column-atec-filter">
                    <span class="label-row-atec-filter">D</span>
                </div>
                <div fxLayout="column" class="column-atec-filter column-input-atec-filter" fxFlex="15">
                    <mat-form-field>

                        <input class="label-placeholder-atec-filter mat-form-field-infix"
                               placeholder="Days" matInput maxlength="3"
                        />
                    </mat-form-field>
                </div>
                <div fxLayout="column">
                    <mat-checkbox labelPosition="after" fxFlex="20" class="column-atec-filter"
                    ><span class="label-row-atec-filter">All</span>
                    </mat-checkbox>
                </div>
            </div>


            <div fxLayout="row" class="row-atec-filter background-color-row-atec-filter">
                <div fxLayout="column" fxFlex="13" class="column-atec-filter">
                    <span class="label-row-atec-filter">TLI</span>
                </div>
                <div fxLayout="column" class="column-atec-filter column-input-atec-filter" fxFlex="15">
                    <mat-form-field>
                        <input class="label-placeholder-atec-filter mat-form-field-infix"
                               placeholder="Days" matInput maxlength="3"
                        />
                    </mat-form-field>
                </div>
                <div fxLayout="column">
                    <mat-checkbox labelPosition="after" fxFlex="20" class="column-atec-filter">
                        <span class="label-row-atec-filter">All</span>
                    </mat-checkbox>
                </div>
            </div>-->
        </mat-tab>
    </mat-tab-group>
    <div class="line-footer-atec-filter"></div>

    <div mat-dialog-actions class="row-width-atec-filter" fxLayoutAlign="end">
        <div class="buttons-atec-filter">
            <button id="btn-atec-filter-form-cancel" (click)="cancel()" type="button" mat-button>
                {{'BUTTONS.CANCEL'|translate}}
            </button>
            <button id="btn-atec-filter-form-submit" type="submit" mat-button mat-raised-button color="primary">
                {{'BUTTONS.APPLY'|translate}}
            </button>
        </div>
    </div>
</form>
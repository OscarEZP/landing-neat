<form id="close-form" [formGroup]="closeForm" #formClose="ngForm" (ngSubmit)="submitForm(closeForm.value)">
    <div mat-dialog-title>
        <span class="title-dialog" fxFlex>{{'OPERATIONS.CLOSE_COMPONENT.TITLE'|translate}}</span>
    </div>

    <mat-divider class="add-margin"></mat-divider>

    <div mat-dialog-content fxLayoutGap="" fxLayout="column">
        <div fxLayout="column" fxLayoutGap="15px">
            <div>
                <span class="subtitles">{{'OPERATIONS.CLOSE_COMPONENT.CONTINGENCY_INFO'|translate}}</span>
            </div>
            <div fxLayout="row">
                <div fxLayout="row" fxFlex="" fxLayoutGap="10px">
                    <label class="label-item">{{'OPERATIONS.CLOSE_COMPONENT.AC'|translate}}</label>
                    <span>{{data.aircraft.tail}}</span>
                </div>
                <div fxLayout="row" fxFlex="" fxLayoutGap="10px">
                    <label class="label-item">{{'OPERATIONS.CLOSE_COMPONENT.OPERATOR'|translate}}</label>
                    <span>{{data.aircraft.operator}}</span>
                </div>
                <div fxLayout="row" fxFlex="" fxLayoutGap="10px">
                    <label class="label-item">{{'OPERATIONS.CLOSE_COMPONENT.FLIGHT'|translate}}</label>
                    <span>{{data.flight.flightNumber}}</span>
                </div>
            </div>
            <div fxLayout="row" fxLayoutGap="20px">
                <label class="label-item">{{'OPERATIONS.CLOSE_COMPONENT.DESC'|translate}}</label>
                <span>{{data.reason}}</span>
            </div>

        </div>
        <mat-divider class="add-margin"></mat-divider>
        <div fxLayout="column" fxLayoutGap="15px">
            <div>
                <span class="subtitles">{{'OPERATIONS.CLOSE_COMPONENT.CLOSURE_INFO'|translate}}</span>
            </div>
            <div fxLayout="row" fxLayoutGap="15px">
                <label fxFlex="20" class="label-item">{{'OPERATIONS.CLOSE_COMPONENT.AC_STATUS'|translate}}</label>
                <mat-radio-group fxLayoutGap="10px" [formControl]="closeForm.controls['type']">
                    <mat-radio-button labelPosition="after" *ngFor="let closeType of typeCloseList" value="{{closeType.code}}">
                        {{closeType.description}}
                    </mat-radio-button>
                </mat-radio-group>
            </div>
            <mat-error *ngIf="closeForm.controls['type'].hasError('required') && closeForm.controls['type'].value === null && formClose.submitted">
                {{'OPERATIONS.CONTINGENCY_FORM.CONTINGENCY_TYPE_REQUIRED'|translate}}
            </mat-error>

        </div>
        <mat-divider class="add-margin"></mat-divider>
        <div fxLayout="column" fxLayoutGap="15px">
            <div>
                <span class="subtitles">{{'OPERATIONS.CLOSE_COMPONENT.OBS'|translate}}</span>
            </div>
            <mat-form-field class="full-width">
                <textarea matInput #observation placeholder="Observations to Maintenance" maxlength="400"
                          [formControl]="closeForm.controls['observation']"
                          required></textarea>
                <mat-hint align="end">{{observation.value.length}} / 400</mat-hint>
                <mat-error *ngIf="closeForm.controls['observation'].hasError('required') && closeForm.controls['observation'].invalid">
                    {{'OPERATIONS.CLOSE_COMPONENT.OBS_REQUIRED'|translate}}
                </mat-error>
            </mat-form-field>

        </div>

    </div>
    <mat-divider class="add-margin-last"></mat-divider>
    <div mat-dialog-actions fxLayoutAlign="end">
        <button type="button" mat-button (click)="openCancelDialog()">
            {{'OPERATIONS.CLOSE_COMPONENT.BTN_CANCEL'|translate}}
        </button>
        <button type="submit" mat-button mat-raised-button color="primary">
            {{'OPERATIONS.CLOSE_COMPONENT.BTN_SAVE'|translate}}
        </button>
    </div>
</form>